{"version":3,"file":"HttpApiClient.js","names":["Context","_interopRequireWildcard","require","Effect","_Function","Option","ParseResult","Schema","HttpApi","HttpApiSchema","HttpClient","HttpClientError","HttpClientRequest","HttpClientResponse","HttpMethod","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","make","api","options","gen","context","httpClient","pipe","baseUrl","undefined","identity","mapRequest","prependUrl","transformClient","client","reflect","onGroup","group","topLevel","identifier","onEndpoint","endpoint","errors","successes","makeUrl","compilePath","path","decodeMap","orElse","statusOrElse","forEach","ast","status","_tag","statusCodeError","decode","schemaToResponse","value","response","flatMap","fail","responseAsVoid","isMultipart","payloadSchema","map","schema","getMultipart","getOrElse","encodePayload","filter","encodeUnknown","encodeHeaders","headersSchema","encodeUrlParams","urlParamsSchema","name","request","url","baseRequest","method","succeed","bodyFormData","payload","hasBody","bodyJson","setUrlParams","orDie","httpRequest","headers","setHeaders","urlParams","params","appendUrlParams","execute","matchStatus","transformResponse","scoped","catchIf","isParseError","die","mapInputContext","input","merge","exports","paramsRegex","segments","split","len","length","_","encoding","getEncoding","decodeUnknown","kind","responseJson","schemaBodyUrlParams","arrayBuffer","buffer","Uint8Array","text","void","try","JSON","parse","catch","cause","ResponseError","reason","_response"],"sources":["../../src/HttpApiClient.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}