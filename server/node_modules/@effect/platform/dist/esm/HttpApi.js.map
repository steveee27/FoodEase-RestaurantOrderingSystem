{"version":3,"file":"HttpApi.js","names":["Context","HashMap","HashSet","Option","pipeArguments","Predicate","AST","HttpApiDecodeError","HttpApiSchema","TypeId","Symbol","for","isHttpApi","u","hasProperty","Api","Tag","Proto","pipe","arguments","add","group","makeProto","groups","set","identifier","errorSchema","annotations","middlewares","addError","schema","UnionUnify","status","getStatusError","prefix","map","middleware","tag","failure","annotate","value","annotateContext","context","merge","options","HttpApi","Object","setPrototypeOf","empty","reflect","self","apiErrors","extractMembers","ast","Map","getStatusErrorAST","groupErrors","groupAnnotations","onGroup","mergedAnnotations","endpoints","endpoint","errors","onEndpoint","union","successes","successSchema","getStatusSuccessAST","topAst","inherited","getStatus","members","process","_tag","emptyDecodeable","getEmptyDecodeable","current","get","none","Union","make","types","orElse","encodedAST","some","type"],"sources":["../../src/HttpApi.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}